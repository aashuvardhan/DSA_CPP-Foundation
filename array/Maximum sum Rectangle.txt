/*
https://practice.geeksforgeeks.org/problems/maximum-sum-rectangle2948/1?page=19&company[]=Amazon&sortBy=submissions

*/
#include <bits/stdc++.h>
using namespace std;

int kadane(vector<int>& temp){
    int n=temp.size();
    
    int maxtill=temp[0];
    int maxhere=temp[0];
    
    for(int i=1;i<n;i++){
        maxhere=max(maxhere+temp[i],temp[i]);
        
        maxtill=max(maxtill,maxhere);
        
    }
    return maxtill;
    
    
}


int main() {
	// your code goes here
	vector<vector<int>> v={{1,2,-1,-4,-20},{-8,-3,4,2,1},{3,8,10,1,3},{-4,-1,1,7,-6}};
	
	int row=4;
	int col=5;
	
	int maxi=0;
	
	// approach  top of the matrix removing each time
	for(int i=0;i<row;i++){
	    vector<int> temp(col,0);
	    
	    for(int j=i;j<row;j++){
	        
	        for(int k=0;k<col;k++){
	            temp[k]+=v[j][k];
	        }
	        
	        
	    }
	    maxi=max(maxi,kadane(temp));
	}
	
	
	

	
	cout<<maxi;
	
	
	
}
